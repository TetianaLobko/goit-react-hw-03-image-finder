{"version":3,"sources":["services/FetchAPI.js","components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Modal.js","components/Loader.js","components/Button.js","App.js","index.js"],"names":["api","imagesFetch","nameImage","page","fetch","then","r","ok","json","Promise","reject","Error","Searchbar","state","onValueInput","e","setState","currentTarget","value","toLowerCase","onSubmitFetch","preventDefault","trim","props","onSubmit","toast","error","keySearch","shortid","generate","className","this","type","id","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGallery","arrayImages","map","Modal","exitModal","code","onClose","console","log","window","addEventListener","removeEventListener","modalRoot","document","querySelector","createPortal","children","LoaderFunc","color","height","width","Button","Finder","imagesArray","loading","selectedImage","showModal","searchImagesFetch","Api","imagesArrayFetch","checkNewFetchImagesArray","hits","catch","finally","prevState","toggleModal","isHandleFormSubmit","isCurrentImage","currentImage","scrollGallery","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","onClickLoadMore","prevProps","autoClose","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"mSAcA,IAIeA,EAJH,CACVC,YAdF,SAAqBC,EAAWC,GAI9B,OAAOC,MAAM,GAAD,OAFS,2BAET,YAHA,yCAGA,cACkBF,EADlB,iBACoCC,EADpC,yDAEVE,MAAK,SAACC,GACN,OAAIA,EAAEC,GACGD,EAAEE,OAEJC,QAAQC,OAAO,IAAIC,MAAM,8C,+BCHfC,E,4MACnBC,MAAQ,CACNX,UAAW,I,EAGbY,aAAe,SAACC,GAEd,EAAKC,SAAS,CAAEd,UAAWa,EAAEE,cAAcC,MAAMC,iB,EAGnDC,cAAgB,SAACL,GACfA,EAAEM,iBAEkC,KAAhC,EAAKR,MAAMX,UAAUoB,QAKzB,EAAKC,MAAMC,SAAS,EAAKX,MAAMX,UAAUoB,QACzC,EAAKN,SAAS,CAAEd,UAAW,MALzBuB,IAAMC,MAAM,qB,4CAQhB,WACE,IAAMC,EAAYC,IAAQC,WAC1B,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaN,SAAUO,KAAKX,cAA5C,UACE,wBAAQY,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAEF,uBACEG,GAAIN,EACJG,UAAU,mBACVE,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,KAAK,OACLnB,MAAOa,KAAKlB,MAAMX,UAClBoC,SAAUP,KAAKjB,wB,GAvCYyB,aCHxB,SAASC,EAAT,GAKX,IAJFC,EAIC,EAJDA,aACAC,EAGC,EAHDA,KACAC,EAEC,EAFDA,cACAC,EACC,EADDA,QAEA,OACE,oBACEA,QAAS,kBAAMA,EAAQD,EAAeD,IACtCZ,UAAU,mBAFZ,SAIE,qBAAKe,IAAKJ,EAAcK,IAAKJ,EAAMZ,UAAU,6BCXpC,SAASiB,EAAT,GAAkD,IAA1BC,EAAyB,EAAzBA,YAAaxB,EAAY,EAAZA,SAClD,OACE,oBAAIM,UAAU,eAAd,SACGkB,EAAYC,KAAI,gBAAGhB,EAAH,EAAGA,GAAIQ,EAAP,EAAOA,aAAcE,EAArB,EAAqBA,cAAeD,EAApC,EAAoCA,KAApC,OACf,cAACF,EAAD,CAEEC,aAAcA,EACdC,KAAMA,EACNC,cAAeA,EACfC,QAASpB,GAJJS,Q,ICLMiB,E,4MAQnBC,UAAY,SAACpC,GACI,WAAXA,EAAEqC,MACJ,EAAK7B,MAAM8B,UAEbC,QAAQC,IAAIxC,EAAEqC,O,uDAVhB,WACEI,OAAOC,iBAAiB,UAAW1B,KAAKoB,a,kCAE1C,WACEK,OAAOE,oBAAoB,UAAW3B,KAAKoB,a,oBAQ7C,WACE,IAAMQ,EAAYC,SAASC,cAAc,eAEzC,OAAOC,uBACL,qBAAKhC,UAAU,UAAf,SACE,qBAAKA,UAAU,QAAf,SAAwBC,KAAKR,MAAMwC,aAErCJ,O,GArB6BpB,a,iBCApB,SAASyB,IACtB,OACE,qBAAKlC,UAAU,SAAf,SACE,cAAC,IAAD,CAAQE,KAAK,eAAeiC,MAAM,UAAUC,OAAQ,IAAKC,MAAO,QCKvDC,MATf,YAAwC,IAAtBL,EAAqB,EAArBA,SAAUnB,EAAW,EAAXA,QAC1B,OACE,qBAAKd,UAAU,wBAAf,SACE,wBAAQA,UAAU,SAASc,QAASA,EAApC,SACGmB,OCIYM,E,4MACnBxD,MAAQ,CACNX,UAAW,GACXoE,YAAa,GACbC,SAAS,EACTC,cAAe,KACfrE,KAAM,EACNsE,WAAW,EACX/C,MAAO,M,EAaTgD,kBAAoB,WAClB,MAA4B,EAAK7D,MAAzBV,EAAR,EAAQA,KAAMD,EAAd,EAAcA,UAEd,EAAKc,SAAS,CAAEuD,SAAS,IAEzBI,EAAI1E,YAAYC,EAAWC,GACxBE,MAAK,SAACuE,GAAD,OACJ,EAAKC,yBAAyBD,EAAiBE,SAEhDC,OAAM,SAACrD,GAAD,OAAW,EAAKV,SAAS,CAAEU,aACjCsD,SAAQ,kBACP,EAAKhE,UAAS,SAACiE,GAAD,MAAgB,CAC5BV,SAAS,EACTpE,KAAM8E,EAAU9E,KAAO,U,EAK/B0E,yBAA2B,SAACD,GAC1BA,IAAqB,GACjB,EAAK5D,SAAS,CACZsD,YAAaM,IAEf,EAAK5D,UAAS,SAACiE,GAAD,MAAgB,CAC5BX,YAAY,GAAD,mBAAMW,EAAUX,aAAhB,YAAgCM,S,EAInDM,YAAc,WACZ,EAAKlE,UAAS,kBAAoB,CAAEyD,WAAtB,EAAGA,e,EAGnBU,mBAAqB,SAACjF,GACpB,EAAKc,SAAS,CAAEd,e,EAGlBkF,eAAiB,SAACC,EAAc3C,GAC9B,EAAK1B,SAAS,CACZwD,cAAe,CAACa,EAAc3C,GAC9B+B,WAAW,K,EAGfa,cAAgB,WACdC,YAAW,WACT/B,OAAOgC,SAAS,CACdC,IAAK7B,SAAS8B,gBAAgBC,aAC9BC,SAAU,aAEX,M,EAGLC,gBAAkB,WAChB,EAAKnB,oBACL,EAAKY,iB,wDA/DP,SAAmBQ,EAAWb,GACxBA,EAAU/E,YAAc6B,KAAKlB,MAAMX,YACrC6B,KAAKf,SAAS,CACZb,KAAM,EACND,UAAW6B,KAAKlB,MAAMX,UACtBoE,YAAa,KAEfvC,KAAK2C,uB,oBA0DT,WAAU,IAAD,OACP,EAMI3C,KAAKlB,MALP0D,EADF,EACEA,QACAE,EAFF,EAEEA,UACAvE,EAHF,EAGEA,UACAoE,EAJF,EAIEA,YACAE,EALF,EAKEA,cAEF,OACE,qCACE,cAAC,EAAD,CAAWhD,SAAUO,KAAKoD,qBAEzBb,GACC,cAACvB,EAAD,CACEC,YAAasB,EACb9C,SAAUO,KAAKqD,iBAGlBX,GACC,cAAC,EAAD,CAAOpB,QAAS,kBAAM,EAAK6B,eAA3B,SACE,qBAAKrC,IAAK2B,EAAc,GAAI1B,IAAK0B,EAAc,QAGjDtE,GACA,qBAAK4B,UAAU,0BAAf,SACE,mBAAGA,UAAU,gBAAb,8DAKJ,cAAC,IAAD,CAAgBiE,UAAW,MAC1BxB,GAAW,cAAC,EAAD,IAEY,IAAvBD,EAAY0B,QACX,cAAC,EAAD,CAAQpD,QAASb,KAAK8D,gBAAtB,8B,GA9G0BtD,aCNpC0D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFvC,SAASwC,eAAe,W","file":"static/js/main.9df43830.chunk.js","sourcesContent":["\r\nfunction imagesFetch(nameImage, page) {\r\n  const KEY = \"key=21324053-9f61ed863564998c3c32e619e\";\r\n  const GENERAL_LINK = \"https://pixabay.com/api/\";\r\n\r\n  return fetch(\r\n    `${GENERAL_LINK}?${KEY}&q=${nameImage}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((r) => {\r\n    if (r.ok) {\r\n      return r.json();\r\n    }\r\n    return Promise.reject(new Error(\"There are no images for your request\"));\r\n  });\r\n}\r\nconst api = {\r\n  imagesFetch,\r\n};\r\n\r\nexport default api;","import React, { Component } from \"react\";\r\nimport shortid from \"shortid\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    nameImage: \"\",\r\n  };\r\n\r\n  onValueInput = (e) => {\r\n;\r\n    this.setState({ nameImage: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  onSubmitFetch = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.nameImage.trim() === \"\") {\r\n      toast.error(\"Enter your query\");\r\n\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.nameImage.trim());\r\n    this.setState({ nameImage: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const keySearch = shortid.generate();\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onSubmitFetch}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n          <input\r\n            id={keySearch}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"name\"\r\n            value={this.state.nameImage}\r\n            onChange={this.onValueInput}\r\n          />\r\n        </form>\r\n      </header>\r\n\r\n    );\r\n  }\r\n}","  \r\nimport React from \"react\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  tags,\r\n  largeImageURL,\r\n  onClick,\r\n}) {\r\n  return (\r\n    <li\r\n      onClick={() => onClick(largeImageURL, tags)}\r\n      className=\"ImageGalleryItem\"\r\n    >\r\n      <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n}","import React from \"react\";\r\n\r\nimport \"../styles/styles.css\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ arrayImages, onSubmit }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {arrayImages.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          tags={tags}\r\n          largeImageURL={largeImageURL}\r\n          onClick={onSubmit}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default class Modal extends Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.exitModal);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.exitModal);\r\n  }\r\n  exitModal = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n    console.log(e.code);\r\n  };\r\n  render() {\r\n    const modalRoot = document.querySelector(\"#modal-root\");\r\n\r\n    return createPortal(\r\n      <div className=\"Overlay\">\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default function LoaderFunc() {\r\n  return (\r\n    <div className=\"loader\">\r\n      <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={200} width={200} />\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nfunction Button({ children, onClick }) {\r\n  return (\r\n    <div className=\"containerBtn-loadMore\">\r\n      <button className=\"Button\" onClick={onClick}>\r\n        {children}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nexport default Button;","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Api from \"./services/FetchAPI\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGalleryItem from \"./components/ImageGallery\";\nimport Modal from \"./components/Modal\";\nimport Loader from \"./components/Loader\";\nimport Button from \"./components/Button\";\nimport \"./styles/styles.css\";\n\nexport default class Finder extends Component {\n  state = {\n    nameImage: \"\",\n    imagesArray: [],\n    loading: false,\n    selectedImage: null,\n    page: 1,\n    showModal: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.nameImage !== this.state.nameImage) {\n      this.setState({\n        page: 1,\n        nameImage: this.state.nameImage,\n        imagesArray: [],\n      });\n      this.searchImagesFetch();\n    }\n  }\n  searchImagesFetch = () => {\n    const { page, nameImage } = this.state;\n\n    this.setState({ loading: true });\n\n    Api.imagesFetch(nameImage, page)\n      .then((imagesArrayFetch) =>\n        this.checkNewFetchImagesArray(imagesArrayFetch.hits)\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() =>\n        this.setState((prevState) => ({\n          loading: false,\n          page: prevState.page + 1,\n        }))\n      );\n  };\n\n  checkNewFetchImagesArray = (imagesArrayFetch) => {\n    imagesArrayFetch === []\n      ? this.setState({\n          imagesArray: imagesArrayFetch,\n        })\n      : this.setState((prevState) => ({\n          imagesArray: [...prevState.imagesArray, ...imagesArrayFetch],\n        }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  isHandleFormSubmit = (nameImage) => {\n    this.setState({ nameImage });\n  };\n\n  isCurrentImage = (currentImage, tags) => {\n    this.setState({\n      selectedImage: [currentImage, tags],\n      showModal: true,\n    });\n  };\n  scrollGallery = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }, 1000);\n  };\n\n  onClickLoadMore = () => {\n    this.searchImagesFetch();\n    this.scrollGallery();\n  };\n  render() {\n    const {\n      loading,\n      showModal,\n      nameImage,\n      imagesArray,\n      selectedImage,\n    } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.isHandleFormSubmit} />\n\n        {imagesArray && (\n          <ImageGalleryItem\n            arrayImages={imagesArray}\n            onSubmit={this.isCurrentImage}\n          />\n        )}\n        {showModal && (\n          <Modal onClose={() => this.toggleModal()}>\n            <img src={selectedImage[0]} alt={selectedImage[1]} />\n          </Modal>\n        )}\n        {!nameImage && (\n          <div className=\"container-paragraphInfo\">\n            <p className=\"paragraphInfo\">\n              Please, enter your request in the field above!\n            </p>\n          </div>\n        )}\n        <ToastContainer autoClose={3000} />\n        {loading && <Loader />}\n\n        {imagesArray.length !== 0 && (\n          <Button onClick={this.onClickLoadMore}>Load more</Button>\n        )}\n      </>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}